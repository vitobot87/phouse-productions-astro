---
import Layout from '../../layouts/Layout.astro';

const base = import.meta.env.BASE_URL;

interface ProjectLink {
  label: string;
  url: string;
  type: 'primary' | 'secondary';
}

interface Project {
  slug: string;
  title: string;
  status: string;
  description: string;
  longDescription: string;
  tags: string[];
  features: string[];
  image: string;
  logo: string;
  links: ProjectLink[];
}

const projects: Record<string, Project> = {
  protimer: {
    slug: "protimer",
    title: "ProTimer",
    status: "active",
    description: "An interval timer application designed for workouts and productivity.",
    longDescription: "ProTimer is a powerful interval timer application that helps you stay on track during workouts, cooking, or any activity that requires precise timing. With a clean interface and customizable intervals, it's the perfect companion for structured activities.",
    tags: ["mobile", "productivity", "fitness"],
    features: [
      "Customizable interval timers",
      "Clean, intuitive interface",
      "Audio and visual cues",
      "Save and reuse timer presets",
      "Perfect for HIIT workouts, Tabata, and more"
    ],
    image: "protimer-hero.png",
    logo: "protimer-logo.png",
    links: [
      { label: "Visit Website", url: "https://timer.phouseproductions.com/", type: "primary" },
      { label: "iOS App", url: "https://apps.apple.com/ca/app/protimer-interval-timer/id1505852514", type: "secondary" },
    ]
  },
  rploop: {
    slug: "rploop",
    title: "RPLOOP",
    status: "active",
    description: "NFT-based generative piano music platform.",
    longDescription: "RPLOOP combines the worlds of generative music and blockchain technology. Each NFT represents a unique, algorithmically generated piano composition that exists nowhere else.",
    tags: ["blockchain", "nft", "music", "web3"],
    features: [
      "Generative piano compositions",
      "NFT minting and ownership",
      "Unique musical pieces",
      "Web3 integration",
      "Collectible digital music"
    ],
    image: "rploop-hero.jpg",
    logo: "rploop-logo.webp",
    links: [
      { label: "View Collection", url: "https://rploop.com/", type: "secondary" },
    ]
  },
  "challenge-tracker": {
    slug: "challenge-tracker",
    title: "Challenge Tracker",
    status: "active",
    description: "A fitness goal-tracking application for accountability.",
    longDescription: "Challenge Tracker makes it easy to set fitness goals and track your progress. Whether you're training for a marathon or just trying to build better habits, this app keeps you accountable.",
    tags: ["fitness", "mobile", "tracking", "goals"],
    features: [
      "Set custom fitness challenges",
      "Track daily progress",
      "Visual progress charts",
      "Achievement milestones",
      "Motivational reminders",
      "Social accountability features"
    ],
    image: "challenge-tracker-hero.png",
    logo: "challenge-tracker-logo.png",
    links: [
      { label: "Web App", url: "https://ct.phouseproductions.com/", type: "primary" },
    ]
  },
  "easy-strength": {
    slug: "easy-strength",
    title: "Easy Strength",
    status: "active",
    description: "A minimalist strength training companion app.",
    longDescription: "Easy Strength is a workout tracking application built around Pavel Tsatsouline's strength training methodology. It provides users with a structured daily protocol for systematic strength development, enabling lifters to work around equipment limitations while maintaining program integrity.",
    tags: ["fitness", "web", "strength-training", "productivity"],
    features: [
      "Exercise categories organized into five movement patterns (push, pull, hinge, squat, carry)",
      "Multiple exercise options within each category",
      "Set/rep tracking with \"2 sets of 5\" protocol",
      "Preset locations for gym, home, and hotel training",
      "Unit selection toggle between LBS and KG",
      "Workout reporting and data export"
    ],
    image: "easy-strength-hero.png",
    logo: "easy-strength-logo.png",
    links: [
      { label: "Try App", url: "https://easy-strength.phouseproductions.com/", type: "primary" },
    ]
  },
  journal: {
    slug: "journal",
    title: "Journal & Workout Logger",
    status: "active",
    description: "A flexible journaling and workout logging application.",
    longDescription: "A web-based progressive web application designed for users to log daily journal entries and track workout activities in a flexible, integrated format. Combine your daily reflections with fitness tracking in one unified platform.",
    tags: ["journaling", "fitness", "web", "productivity", "pwa"],
    features: [
      "Dual logging capability for journaling and workout tracking",
      "Web-based access built as a Next.js application",
      "Progressive Web App (PWA) support",
      "Flexible format for thoughts, workouts, or both",
      "Cross-device synchronization",
      "Privacy-focused design"
    ],
    image: "journal-hero.png",
    logo: "journal-logo.png",
    links: [
      { label: "Open App", url: "https://journal.phouseproductions.com/", type: "primary" },
    ]
  },
  noviluxe: {
    slug: "noviluxe",
    title: "Novi Luxe",
    status: "active",
    description: "Private hair artistry and custom lash extensions.",
    longDescription: "Novi Luxe is a private hair artistry and custom lash extensions studio located in Mississauga, ON. The website showcases premium beauty services with a clean, elegant design that reflects the luxury experience offered to clients.",
    tags: ["web", "beauty", "business"],
    features: [
      "Modern, elegant web design reflecting the luxury brand",
      "Mobile responsive across all devices",
      "Easy-to-use appointment request system",
      "Detailed service showcase for hair artistry and lash extensions",
      "Professional, welcoming presentation"
    ],
    image: "noviluxe-hero.png",
    logo: "noviluxe-logo.png",
    links: [
      { label: "Visit Website", url: "https://noviluxe.ca/", type: "primary" },
    ]
  }
};

export function getStaticPaths() {
  const projectSlugs = ["protimer", "rploop", "challenge-tracker", "easy-strength", "journal", "noviluxe"];
  return projectSlugs.map((slug) => ({
    params: { slug },
  }));
}

const { slug } = Astro.params;
const project = projects[slug as string];
---

<Layout title={`${project.title} | pHouse Productions`} description={project.description}>
  <main class="min-h-screen">
    <!-- Header -->
    <header class="fixed top-0 left-0 right-0 z-50 bg-white/80 dark:bg-[#0a0a0a]/80 backdrop-blur-md border-b border-gray-200/50 dark:border-gray-800/50">
      <div class="max-w-6xl mx-auto px-4">
        <div class="flex items-center justify-between h-16">
          <a href={base} class="flex items-center gap-3">
            <img src={`${base}favicon.png`} alt="pHouse" class="w-8 h-8 rounded-lg" />
            <span class="font-semibold text-[#0a0a0a] dark:text-white">pHouse Productions</span>
          </a>
          <button onclick="toggleTheme()" class="p-2 rounded-lg bg-[#f5f3f7] dark:bg-[#1a1625] hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors" aria-label="Toggle dark mode">
            <span class="dark:hidden text-gray-600">üåô</span>
            <span class="hidden dark:inline text-gray-300">‚òÄÔ∏è</span>
          </button>
        </div>
      </div>
    </header>

    <div class="pt-24 pb-20 px-4">
      <div class="max-w-4xl mx-auto">
        <!-- Back Link -->
        <a href={`${base}#projects`} class="inline-flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-primary mb-8 transition-colors">
          <span>‚Üê</span>
          Back to Projects
        </a>

        <!-- Hero Image -->
        <div class="relative rounded-2xl overflow-hidden mb-12 shadow-2xl">
          <img 
            src={`${base}${project.image}`} 
            alt={project.title}
            class="w-full h-80 object-cover"
          />
          <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"></div>
          
          {project.logo && (
            <div class="absolute bottom-6 left-6 w-20 h-20 bg-white/90 dark:bg-black/80 backdrop-blur-md rounded-xl p-3 shadow-xl">
              <img 
                src={`${base}${project.logo}`} 
                alt={`${project.title} logo`}
                class="w-full h-full object-contain"
              />
            </div>
          )}
        </div>

        <!-- Project Header -->
        <div class="mb-12">
          <div class="flex items-center gap-4 mb-4">
            <h1 class="text-4xl md:text-5xl font-bold gradient-text">{project.title}</h1>
            <span class={`text-sm px-4 py-1.5 rounded-full font-semibold ${
              project.status === 'active' 
                ? 'bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300' 
                : 'bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300'
            }`}>
              {project.status}
            </span>
          </div>
          
          <p class="text-xl text-gray-600 dark:text-gray-400 mb-6">
            {project.description}
          </p>
          
          <div class="flex flex-wrap gap-2 mb-8">
            {project.tags.map((tag) => (
              <span class="text-sm px-4 py-1.5 rounded-full bg-[#f5f3f7] dark:bg-[#1a1625] text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-700">
                {tag}
              </span>
            ))}
          </div>

          <!-- Links -->
          {project.links && project.links.length > 0 && (
            <div class="flex flex-wrap gap-4">
              {project.links.map((link) => (
                <a 
                  href={link.url}
                  target="_blank"
                  rel="noopener noreferrer"
                  class={`px-6 py-3 rounded-xl font-semibold transition-all ${
                    link.type === 'primary'
                      ? 'bg-primary hover:bg-primary-hover text-white shadow-lg glow-primary'
                      : 'border-2 border-gray-200 dark:border-gray-700 hover:border-primary dark:hover:border-primary'
                  }`}
                >
                  {link.label} ‚Üó
                </a>
              ))}
            </div>
          )}
        </div>

        <!-- About -->
        <section class="mb-12">
          <p class="text-lg text-gray-600 dark:text-gray-300 leading-relaxed">
            {project.longDescription}
          </p>
        </section>

        <!-- Features -->
        <section class="mb-12">
          <h2 class="text-2xl font-bold mb-6">Features</h2>
          <ul class="space-y-4">
            {project.features.map((feature) => (
              <li class="flex items-start gap-3">
                <span class="mt-2 w-2 h-2 rounded-full bg-primary flex-shrink-0"></span>
                <span class="text-gray-600 dark:text-gray-300">{feature}</span>
              </li>
            ))}
          </ul>
        </section>

        <!-- CTA -->
        <section class="bg-[#f5f3f7] dark:bg-[#1a1625] rounded-2xl p-8 text-center border border-gray-200 dark:border-gray-700">
          <h2 class="text-2xl font-bold mb-4">Interested in this project?</h2>
          <p class="text-gray-600 dark:text-gray-400 mb-6">Get in touch to learn more or discuss similar solutions for your needs.</p>
          <a 
            href="https://www.linkedin.com/in/mikecarcasole/" 
            target="_blank"
            rel="noopener noreferrer"
            class="inline-block px-8 py-4 bg-primary hover:bg-primary-hover text-white rounded-xl font-semibold shadow-lg glow-primary transition-all"
          >
            Connect on LinkedIn
          </a>
        </section>
      </div>
    </div>

    <!-- Footer -->
    <footer class="py-8 px-4 border-t border-gray-100 dark:border-gray-800">
      <div class="max-w-6xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4">
        <div class="flex items-center gap-3">
          <img src={`${base}favicon.png`} alt="pHouse" class="w-6 h-6 rounded" />
          <span class="text-sm text-gray-600 dark:text-gray-400">pHouse Productions</span>
        </div>
        <p class="text-sm text-gray-500">¬© {new Date().getFullYear()} pHouse Productions. All rights reserved.</p>
      </div>
    </footer>
  </main>
</Layout>
